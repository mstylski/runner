<div class="athlete">
  <div class="d-flex">
    <div class="col-md-4 mt-3">
      <mat-card>
        <mat-card-header class="mb-3">
          <div mat-card-avatar>
            <img [src]="athlete?.profile_medium" alt="avatar" class="avatar">
          </div>
          <strong>{{athlete?.firstname}} {{athlete?.lastname}}</strong>
        </mat-card-header>
      </mat-card>
      <mat-card class="mt-3 mb-5">
        <mat-card-content>
          <table class="table table-hover" *ngIf="stats">
            <thead>
            <h2>{{'MY_STATS'| translate}}</h2>
            </thead>
            <tbody>
            <mat-tab-group dynamicHeight>
              <mat-tab label="{{ 'RUNNING' | translate }}">
                <div class="large-box mat-elevation-z4">
                  <tr>
                    <td><strong>{{ 'LAST-4-WEEK-RUNS' | translate }}</strong>
                      <span class="material-icons ml-2 runs">directions_run</span></td>
                  </tr>
                  <tr>
                    <td>{{ 'DISTANCE' | translate }}</td>
                    <td>{{getRecentDistance(stats.recent_run_totals.distance)}}</td>
                  </tr>
                  <tr>
                    <td>{{ 'TIME' | translate }}</td>
                    <td>{{getFormattedTime(stats.recent_run_totals.moving_time)}}</td>
                  </tr>
                  <tr>
                    <td>{{ 'ELEVATION_GAIN' | translate }}</td>
                    <td>{{stats.recent_run_totals.elevation_gain.toFixed(0)}}m</td>
                  </tr>
                  <tr>
                    <td><strong>{{ 'ALL-TIME-RUNS' | translate }}</strong></td>
                  </tr>
                  <tr>
                    <td>{{ 'DISTANCE' | translate }}</td>
                    <td>{{getRecentDistance(stats.all_run_totals.distance)}}</td>
                  </tr>
                  <tr>
                    <td>{{ 'TOTAL-NUMBER-OF-RUNS' | translate }}</td>
                    <td>{{stats.all_run_totals.count}}</td>
                  </tr>
                  <tr>
                    <td><strong>{{ 'YEAR-TO-DATE-RUNS' | translate }}</strong>
                      <span class="material-icons ml-2 runs">directions_run</span></td>
                  </tr>
                  <tr>
                    <td>{{ 'DISTANCE' | translate }}</td>
                    <td>{{getRecentDistance(stats.ytd_run_totals.distance)}}</td>
                  </tr>
                  <tr>
                    <td>{{ 'TIME' | translate }}</td>
                    <td>{{getFormattedTime(stats.ytd_run_totals.moving_time)}}</td>
                  </tr>
                  <tr>
                    <td>{{ 'ELEVATION_GAIN' | translate }}</td>
                    <td>{{stats.ytd_run_totals.elevation_gain}}m</td>
                  </tr>
                  <tr>
                    <td>{{ 'TOTAL-NUMBER-OF-RUNS' | translate }}</td>
                    <td>{{stats.ytd_run_totals.count}}</td>
                  </tr>
                </div>
              </mat-tab>
              <mat-tab label="{{ 'CYCLING' | translate }}">
                <div class="large-box mat-elevation-z4">
                  <tr>
                    <td><strong>{{ 'LAST-4-WEEK-RIDES' | translate }}</strong>
                      <span class="material-icons ml-2 rides">directions_bike</span></td>
                  </tr>
                  <tr>
                    <td>{{ 'DISTANCE' | translate }}</td>
                    <td>{{getRecentDistance(stats.recent_ride_totals.distance)}}</td>
                  </tr>
                  <tr>
                    <td>{{ 'TIME' | translate }}</td>
                    <td>{{getFormattedTime(stats.recent_ride_totals.moving_time)}}</td>
                  </tr>
                  <tr>
                    <td>{{ 'ELEVATION_GAIN' | translate }}</td>
                    <td>{{stats.recent_ride_totals.elevation_gain.toFixed(0)}}m</td>
                  </tr>
                  <tr>
                    <td><strong>{{ 'ALL-TIME-RIDES' | translate }}</strong></td>
                  </tr>
                  <tr>
                    <td>{{ 'DISTANCE' | translate }}</td>
                    <td>{{getRecentDistance(stats.all_ride_totals.distance)}}</td>
                  </tr>
                  <tr>
                    <td>{{ 'TOTAL-NUMBER-OF-RIDES' | translate }}</td>
                    <td>{{stats.all_ride_totals.count}}</td>
                  </tr>
                  <tr>
                    <td><strong>{{ 'YEAR-TO-DATE-RIDES' | translate }}</strong>
                      <span class="material-icons ml-2 rides">directions_bike</span></td>
                  </tr>
                  <tr>
                    <td>{{ 'DISTANCE' | translate }}</td>
                    <td>{{getRecentDistance(stats.ytd_ride_totals.distance)}}</td>
                  </tr>
                  <tr>
                    <td>{{ 'TIME' | translate }}</td>
                    <td>{{getFormattedTime(stats.ytd_ride_totals.moving_time)}}</td>
                  </tr>
                  <tr>
                    <td>{{ 'ELEVATION_GAIN' | translate }}</td>
                    <td>{{stats.ytd_ride_totals.elevation_gain}}m</td>
                  </tr>
                  <tr>
                    <td>{{ 'TOTAL-NUMBER-OF-RIDES' | translate}}</td>
                    <td>{{stats.ytd_ride_totals.count}}</td>
                  </tr>
                </div>
              </mat-tab>
            </mat-tab-group>
            </tbody>
          </table>
        </mat-card-content>
      </mat-card>
    </div>
    <div class="col-md-3 mt-1">
      <button mat-raised-button (click)="pageBefore()" [disabled]="currentPageIndex === 1" class="mr-1">{{ 'PAGE-BEFORE' | translate }}
      </button>
      <button mat-raised-button (click)="pageNext()" class="mt-1">{{ 'PAGE-NEXT' | translate }}</button>
      <strong>{{ 'CURRENT-PAGE' | translate }}:{{ currentPageIndex }}</strong>
      <mat-card *ngFor="let activity of listOfActivities" class="mt-1">
        <mat-card-header>
          <div mat-card-avatar>
            <img [src]="athlete?.profile_medium" alt="avatar" class="avatar">
          </div>
          <p>{{ athlete?.firstname }} {{ athlete?.lastname }}</p>
        </mat-card-header>
        <mat-card-content>
          <div class="mt-4">
            <p>
              <img *ngIf="activity.type === 'Run'" src="assets/images/run.png" alt="run">
              <img *ngIf="activity.type === 'Ride'" src="assets/images/ride.png" alt="ride">
              {{ activity.name}}</p>
            <p>{{ activity.start_date_local | date:'HH:mm | dd/MM/yyyy' }}</p>
            <p>{{ (activity.distance / 1000).toFixed(1) }}km</p>
            <p>{{ getFormattedTime(activity.moving_time) }}</p>
            <button mat-raised-button (click)="navigate(activity.id)">{{ 'SHOW-DETAILS' | translate }}</button>
          </div>
        </mat-card-content>
      </mat-card>
    </div>
  </div>
</div>
