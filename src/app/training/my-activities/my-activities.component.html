<div class="activities">
  <h2 class="my-activities">{{ 'MY-ACTIVITIES' | translate }}</h2>
  <div class="mat-elevation-z8">
    <button mat-raised-button class="mr-2" (click)="pageBefore()" [disabled]="currentPageIndex === 1">{{ 'PAGE-BEFORE' | translate }}</button>
    <button mat-raised-button (click)="pageNext()">{{ 'PAGE-NEXT' | translate }}</button>
    <strong>{{ 'CURRENT-PAGE' | translate }} :{{ currentPageIndex }}</strong>
    <table mat-table table [dataSource]="activities">
      <ng-container matColumnDef="name">
        <th mat-header-cell *matHeaderCellDef>{{ 'NAME' | translate }}</th>
        <td mat-cell *matCellDef="let workoutData">
          <img *ngIf="workoutData.type === 'Run'" src="assets/images/run.png" alt="run">
          <img *ngIf="workoutData.type === 'Ride'" src="assets/images/ride.png" alt="ride">
          {{ workoutData.name }}
        </td>
      </ng-container>
      <ng-container matColumnDef="start_date_local">
        <th mat-header-cell *matHeaderCellDef>{{ 'DATE' | translate }}</th>
        <td mat-cell *matCellDef="let workoutData"> {{ workoutData.start_date_local | date:'HH:mm | dd/MM/yyyy' }} </td>
      </ng-container>
      <ng-container matColumnDef="details">
        <th mat-header-cell *matHeaderCellDef>{{ 'DETAILS' | translate }}</th>
        <td mat-cell *matCellDef="let workoutData">
          <button mat-raised-button class="details">{{ 'DETAILS' | translate }}</button>
        </td>
      </ng-container>
      <ng-container matColumnDef="timezone">
        <th mat-header-cell *matHeaderCellDef>{{ 'TIMEZONE' | translate }}</th>
        <td mat-cell *matCellDef="let workoutData"> {{ workoutData.timezone }}</td>
      </ng-container>
      <ng-container matColumnDef="distance">
        <th mat-header-cell *matHeaderCellDef>{{ 'DISTANCE' | translate }}</th>
        <td mat-cell *matCellDef="let workoutData"> {{ (workoutData.distance / 1000).toFixed(1) }}km</td>
      </ng-container>
      <ng-container matColumnDef="moving_time">
        <th mat-header-cell *matHeaderCellDef>{{ 'MOVING-TIME' | translate }}</th>
        <td mat-cell *matCellDef="let workoutData"> {{ getFormattedTime(workoutData.moving_time) }}  </td>
      </ng-container>
      <ng-container matColumnDef="elapsed_time">
        <th mat-header-cell *matHeaderCellDef>{{ 'MOVING-TIME-ELAPSED' | translate }}</th>
        <td mat-cell *matCellDef="let workoutData"> {{ getFormattedTime(workoutData.elapsed_time) }}  </td>
      </ng-container>
      <ng-container matColumnDef="average_speed">
        <th mat-header-cell *matHeaderCellDef>{{ 'AVG-SPEED' | translate }}</th>
        <td mat-cell *matCellDef="let workoutData"> {{ workoutData.average_speed * 3.6 | number: '1.0-0' }}km/h</td>
      </ng-container>
      <ng-container matColumnDef="max_speed">
        <th mat-header-cell *matHeaderCellDef>{{ 'MAX-SPEED' | translate }}</th>
        <td mat-cell *matCellDef="let workoutData"> {{ workoutData.max_speed * 3.6 | number: '1.0-0' }}km/h</td>
      </ng-container>
      <ng-container matColumnDef="total_elevation_gain">
        <th mat-header-cell *matHeaderCellDef>{{ 'ELEVATION-HIGH' | translate }}</th>
        <td mat-cell *matCellDef="let workoutData"> {{ workoutData.total_elevation_gain }}m</td>
      </ng-container>
      <ng-container matColumnDef="start_latlng">
        <th mat-header-cell *matHeaderCellDef>{{ 'COORDINATES' | translate }}</th>
        <td mat-cell *matCellDef="let workoutData"> {{ workoutData.start_latlng }}  </td>
      </ng-container>
      <ng-container matColumnDef="location_country">
        <th mat-header-cell *matHeaderCellDef>{{ 'COUNTRY' | translate }}</th>
        <td mat-cell *matCellDef="let workoutData"> {{ workoutData.location_country }}  </td>
      </ng-container>
      <tr mat-header-row *matHeaderRowDef="columns"></tr>
      <tr mat-row *matRowDef="let row; columns: columns" [routerLink]="row.id"></tr>
    </table>
  </div>
</div>
